<!DOCTYPE html>
<html>

<head>
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <title>WeSurvey - Online survey system</title>
    <!--<meta name="keywords" content="HTML5 Bootstrap 3 Admin Template UI Theme" />-->
    <meta name="description" content="WeSurvey - Online survey system">
    <meta name="author" content="600">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />

    <!-- Font CSS (Via CDN) -->
    <!--<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700'>-->
    <link rel="stylesheet" type="text/css" href="assets/fonts/icomoon/icomoon.css">
    <link rel="stylesheet" type="text/css" href="assets/fonts/glyphicons-pro/glyphicons-pro.css">
    <!-- FullCalendar Plugin CSS -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/fullcalendar/fullcalendar.min.css">
    <!--Admin-form-->
    <link rel="stylesheet" type="text/css" href="assets/admin-tools/admin-forms/css/admin-forms.css">
    <!-- DataTable CSS -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/datatables/media/css/dataTables.bootstrap.css">
    <link rel="stylesheet" type="text/css" href="assets/plugins/datatables/extensions/ColReorder/css/dataTables.colReorder.min.css">
    <link rel="stylesheet" type="text/css" href="assets/plugins/datatables/extensions/Editor/css/dataTables.editor.css">
    <link rel="stylesheet" type="text/css" href="assets/plugins/fancytree/skin-win8/ui.fancytree.min.css" />
    <!-- Select 2 CSS -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/select2/css/core.css">
    <!-- Theme CSS -->
    <link rel="stylesheet" type="text/css" href="assets/skin/default_skin/css/theme.css">
    <!-- Summernote CSS -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/summernote/summernote.css">
    <!-- Admin Forms CSS -->
    <link rel="stylesheet" type="text/css" href="assets/admin-tools/admin-forms/css/admin-forms.css">
    <!-- Multiselect CSS -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/multiselect/pickList.css">
    <!-- jsTree CSS -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/jstree/themes/default/style.min.css" />
    <!-- Magnific popup CSS -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/magnific/magnific-popup.css">
    <!-- WeSurvey CSS -->
    <link rel="stylesheet" type="text/css" href="assets/skin/default_skin/css/wesurvey.css">
    <!-- Dropzone-->
    <link rel="stylesheet" type="text/css" href="assets/dropzone/dropzone.css">
    <!-- Dropzone-->
    <link rel="stylesheet" type="text/css" href="assets/skin/default_skin/css/ajaxloader.css">
    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/img/logo.fw.png">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->

</head>

<body class="dashboard-page">

    <!-------------------------------------------------------------+ 
  <body> Helper Classes: 
---------------------------------------------------------------+ 
  '.sb-l-o' - Sets Left Sidebar to "open"
  '.sb-l-m' - Sets Left Sidebar to "minified"
  '.sb-l-c' - Sets Left Sidebar to "closed"

  '.sb-r-o' - Sets Right Sidebar to "open"
  '.sb-r-c' - Sets Right Sidebar to "closed"
---------------------------------------------------------------+
 Example: <body class="example-page sb-l-o sb-r-c">
 Results: Sidebar left Open, Sidebar right Closed
--------------------------------------------------------------->

    <!-- Start: Main -->
    <div id="main">

        <!-----------------------------------------------------------------+ 
       ".navbar" Helper Classes: 
    -------------------------------------------------------------------+ 
       * Positioning Classes: 
        '.navbar-static-top' - Static top positioned navbar
        '.navbar-static-top' - Fixed top positioned navbar

       * Available Skin Classes:
         .bg-dark    .bg-primary   .bg-success   
         .bg-info    .bg-warning   .bg-danger
         .bg-alert   .bg-system 
    -------------------------------------------------------------------+
      Example: <header class="navbar navbar-fixed-top bg-primary">
      Results: Fixed top navbar with blue background 
    ------------------------------------------------------------------->

        <!-- Start: Header -->
        <header class="navbar navbar-fixed-top navbar-shadow bg-info">

            <div class="navbar-branding">
                <p class="navbar-brand" href="javascript:;">
                    <span style="display: inline-block; height: 20px; width: 20px;">
                        <img src="assets/img/logo.fw.png" style="width: 100%;" /></span>
                    <b>在线调研平台</b>
                </p>
                <span id="toggle_sidemenu_l" class="ad ad-lines"></span>
            </div>
            <!--<ul class="nav navbar-nav navbar-left">
                <li class="dropdown menu-merge hidden-xs">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Dropdown
                    <span class="caret caret-tp"></span>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                    </ul>
                </li>
            </ul>-->
            <!--<form class="navbar-form navbar-left navbar-search alt" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search..." value="Search...">
                </div>
            </form>-->
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown menu-merge" style="display:none;">
                    <div class="navbar-btn btn-group">
                        <button data-toggle="dropdown" class="btn btn-sm dropdown-toggle">
                            <span class="fa fa-bell-o fs14 va-m"></span>
                            <!--<span class="badge badge-danger">9</span>-->
                        </button>
                        <div class="dropdown-menu dropdown-persist w350 animated animated-shorter fadeIn" role="menu">
                            <div class="panel mbn">
                                <div class="panel-menu">
                                    <span class="panel-icon"><i class="fa fa-clock-o"></i></span>
                                    <span class="panel-title fw600">最新通知</span>
                                    <button class="btn btn-default light btn-xs pull-right" type="button"><i class="fa fa-refresh"></i></button>
                                </div>
                                <div class="panel-body panel-scroller scroller-navbar scroller-overlay scroller-pn pn">
                                    <ol class="timeline-list">
                                        <!--<li class="timeline-item">
                                            <div class="timeline-icon bg-dark light">
                                                <span class="fa fa-tags"></span>
                                            </div>
                                            <div class="timeline-desc">
                                                <b>Michael</b> Added to his store:
                                                <a href="#">Ipod</a>
                                            </div>
                                            <div class="timeline-date">1:25am</div>
                                        </li>-->
                                    </ol>

                                </div>
                                <div class="panel-footer text-center p7">
                                    <a href="#" class="link-unstyled">查询全部</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="dropdown menu-merge" style="display:none;">
                    <div class="navbar-btn btn-group">
                        <button data-toggle="dropdown" class="btn btn-sm request-fullscreen toggle-active">
                            <span class="fa fa-desktop fs14 va-m"></span>
                            <!--<span class="badge badge-danger">9</span>-->
                        </button>
                    </div>
                </li>
                <li class="menu-divider hidden-xs" style="display:none;">
                    <i class="fa fa-circle"></i>
                </li>
                <li class="dropdown menu-merge">
                    <a href="#" class="dropdown-toggle fw600 p15 profile" data-toggle="dropdown">
                        <img src="assets/img/avatars/placeholder.png" alt="avatar" class="mw30 br64 image" style="height:30px;">
                        <span class="hidden-xs pl15 username">用户名</span>
                        <span class="caret caret-tp hidden-xs"></span>
                    </a>
                    <ul class="dropdown-menu list-group dropdown-persist w250" role="menu">
                        <!--<li class="list-group-item">
                            <a href="#" class="animated animated-short fadeInUp">
                                <span class="fa fa-envelope"></span>Messages
                                <span class="label label-warning">2</span>
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="#" class="animated animated-short fadeInUp">
                                <span class="fa fa-user"></span>Friends
                                <span class="label label-warning">6</span>
                            </a>
                        </li>-->
                        <li class="dropdown-footer">
                            <a href="#" class="change-password"><span class="fa fa-lock pr5"></span>修改密码</a>
                        </li>
                        <li class="dropdown-footer">
                            <a href="#" class="profile-image"><span class="fa fa-picture-o pr5"></span>上传头像</a>
                        </li>
                        <li class="dropdown-footer">
                            <a href="#" class="logout"><span class="fa fa-power-off pr5"></span>退出登录</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </header>
        <!-- End: Header -->

        <!-----------------------------------------------------------------+ 
           "#sidebar_left" Helper Classes: 
        -------------------------------------------------------------------+ 
           * Positioning Classes: 
            '.affix' - Sets Sidebar Left to the fixed position 

           * Available Skin Classes:
             .sidebar-dark (default no class needed)
             .sidebar-light  
             .sidebar-light.light   
        -------------------------------------------------------------------+
           Example: <aside id="sidebar_left" class="affix sidebar-light">
           Results: Fixed Left Sidebar with light/white background
        ------------------------------------------------------------------->

        <!-- Start: Sidebar -->
        <aside id="sidebar_left" class="nano nano-light affix">

            <!-- Start: Sidebar Left Content -->
            <div class="sidebar-left-content nano-content">

                <!-- Start: Sidebar Header -->
                <header class="sidebar-header">

                    <!-- Sidebar Widget - Author -->
                    <div class="sidebar-widget author-widget">
                        <div class="media profile">
                            <a class="media-left" href="#">
                                <img src="assets/img/avatars/placeholder.png" class="img-responsive image">
                            </a>
                            <div class="media-body">
                                <div class="media-author username">用户名</div>
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar Widget - Search (hidden) -->
                    <div class="sidebar-widget search-widget hidden">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                            <input type="text" id="sidebar-search" class="form-control" placeholder="Search...">
                        </div>
                    </div>

                </header>
                <!-- End: Sidebar Header -->

                <!-- Start: Sidebar Menu -->
                <ul id="sidebar_menu" class="nav sidebar-menu">
                    <!-- Menu content -->
                </ul>
                <!-- End: Sidebar Menu -->

                <!-- Start: Sidebar Collapse Button -->
                <div class="sidebar-toggle-mini">
                    <a href="#">
                        <span class="fa fa-sign-out"></span>
                    </a>
                </div>
                <!-- End: Sidebar Collapse Button -->

            </div>
            <!-- End: Sidebar Left Content -->

        </aside>
        <!-- End: Sidebar Left -->

        <!-- Start: Content-Wrapper -->
        <section id="content_wrapper" style="right: -17px">

            <!-- Start: Topbar -->
            <!--<header id="topbar" class="alt breadcrumbbar">
                <h5>会员管理</h5>
                <div class="topbar-left"></div>
                <div class="topbar-right"></div>
            </header>-->
            <!-- End: Topbar -->

            <!-- Begin: Content -->
            <section id="content" class="table-layout animated fadeIn">

                <!-- begin: .tray-center -->
                <div class="tray tray-center">

                    <!-- Admin-panels -->
                    <div id="content-container" class="fade-onload">

                        <!-- Content -->

                    </div>

                </div>
                <!-- end: .tray-center -->

                <!-- begin: .tray-right -->
                <aside class="tray tray-right tray270 pn hidden" data-tray-height="match">

                    <!-- Content -->

                </aside>
                <!-- end: .tray-right -->

            </section>
            <!-- End: Content -->

            <!-- Begin: Page Footer -->
            <footer id="content-footer" class="affix">
                <div class="row">
                    <div class="col-md-6">
                        <span class="footer-legal">© 2015 MaxInsight</span>
                    </div>
                    <div class="col-md-6 text-right">
                        <!--<span class="footer-meta">60GB of <b>350GB</b> Free</span>
                        <a href="#content" class="footer-return-top">
                            <span class="fa fa-arrow-up"></span>
                        </a>-->
                    </div>
                </div>
            </footer>
            <!-- End: Page Footer -->

        </section>
        <!-- End: Content-Wrapper -->

        <!-- Start: Right Sidebar -->
        <aside id="sidebar_right" class="nano affix">

            <!-- Start: Sidebar Right Content -->
            <div class="sidebar-right-content nano-content">

                <div class="tab-block sidebar-block br-n">
                    <ul class="nav nav-tabs tabs-border nav-justified hidden">
                        <li class="active">
                            <a href="#sidebar-right-tab1" data-toggle="tab">Tab 1</a>
                        </li>
                        <li>
                            <a href="#sidebar-right-tab2" data-toggle="tab">Tab 2</a>
                        </li>
                        <li>
                            <a href="#sidebar-right-tab3" data-toggle="tab">Tab 3</a>
                        </li>
                    </ul>
                    <div class="tab-content br-n">
                        <div id="sidebar-right-tab1" class="tab-pane active">

                            <h5 class="title-divider text-muted mb20">Server Statistics
                                <span class="pull-right">2013
                                    <i class="fa fa-caret-down ml5"></i>
                                </span>
                            </h5>
                            <div class="progress mh5">
                                <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 44%">
                                    <span class="fs11">DB Request</span>
                                </div>
                            </div>
                            <div class="progress mh5">
                                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 84%">
                                    <span class="fs11 text-left">Server Load</span>
                                </div>
                            </div>
                            <div class="progress mh5">
                                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 61%">
                                    <span class="fs11 text-left">Server Connections</span>
                                </div>
                            </div>

                            <h5 class="title-divider text-muted mt30 mb10">Traffic Margins</h5>
                            <div class="row">
                                <div class="col-xs-5">
                                    <h3 class="text-primary mn pl5">132</h3>
                                </div>
                                <div class="col-xs-7 text-right">
                                    <h3 class="text-success-dark mn">
                                        <i class="fa fa-caret-up"></i>13.2% </h3>
                                </div>
                            </div>

                            <h5 class="title-divider text-muted mt25 mb10">Database Request</h5>
                            <div class="row">
                                <div class="col-xs-5">
                                    <h3 class="text-primary mn pl5">212</h3>
                                </div>
                                <div class="col-xs-7 text-right">
                                    <h3 class="text-success-dark mn">
                                        <i class="fa fa-caret-up"></i>25.6% </h3>
                                </div>
                            </div>

                            <h5 class="title-divider text-muted mt25 mb10">Server Response</h5>
                            <div class="row">
                                <div class="col-xs-5">
                                    <h3 class="text-primary mn pl5">82.5</h3>
                                </div>
                                <div class="col-xs-7 text-right">
                                    <h3 class="text-danger mn">
                                        <i class="fa fa-caret-down"></i>17.9% </h3>
                                </div>
                            </div>

                            <h5 class="title-divider text-muted mt40 mb20">Server Statistics
                                <span class="pull-right text-primary fw600">USA</span>
                            </h5>


                        </div>
                        <div id="sidebar-right-tab2" class="tab-pane"></div>
                        <div id="sidebar-right-tab3" class="tab-pane"></div>
                    </div>
                    <!-- end: .tab-content -->
                </div>

            </div>
            <!-- End: Sidebar Right Content -->

        </aside>
        <!-- End: Right Sidebar -->

        <!-- Message modal -->
        <div class="modal fade" id="message-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"><i class="fa fa-question"></i>提示</h4>
                    </div>
                    <div class="modal-body">
                        <p class="modal-message"></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default btn-sm cancel" data-dismiss="modal"><i class="fa fa-close"></i>取消</button>
                        <button type="button" class="btn btn-primary btn-sm accept"><i class="fa fa-save"></i>确定</button>
                    </div>
                </div>
            </div>
        </div>
        <!--Message modal-->

        <!-- Message modal -->
        <div class="modal fade" id="profile_image_modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"><span class="fa fa-picture-o"></span>上传头像</h4>
                    </div>
                    <div class="form-horizontal admin-form">
                        <form id="project_form" method="post" class="weui-form">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="form-group col-md-12">
                                        <label for="col-money-number" class="col-md-2 col-sm-4 control-label">头像：</label>
                                        <div class="col-md-10 col-sm-8">
                                            <label class="field prepend-icon">
                                                <!--<input type="number" class="form-control amount">
                                                <label class="field-icon"><i class="fa fa-edit"></i></label>-->
                                            <img src="assets/img/avatars/placeholder.png" style="width: 128px; height: 128px; cursor: pointer" onclick="$(this).parent().parent().find('input[name=origin_image]').click();" />
                                            <!--<div class="qimg-con" onclick="$(this).parent().find('input[name=origin_image]').click();">-->
                                            <!--<img src=""  maxsrc="" bbox="" orig_width="">-->
                                            </label>
                                            <input name="origin_image" type="file" style="display: none;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default btn-sm cancel" data-dismiss="modal">
                                    <i class="fa fa-close"></i>关闭                           
                                </button>
                                <button type="submit" class="btn btn-primary btn-sm accept">
                                    <i class="fa fa-save"></i><span class="caption">上传</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--Message modal-->

        <!-- Message modal -->
        <div class="modal fade" id="change_password_modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"><span class="fa fa-lock"></span>修改密码</h4>
                    </div>
                    <div class="form-horizontal admin-form">
                        <form id="Form1" method="post" class="weui-form">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="form-group col-md-12">
                                        <label for="col-money-number" class="col-md-2 col-sm-4 control-label">原密码：</label>
                                        <div class="col-md-10 col-sm-8">
                                            <label class="field prepend-icon">
                                                <input type="password" class="form-control old">
                                                <label class="field-icon"><i class="fa fa-lock"></i></label>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label for="col-money-number" class="col-md-2 col-sm-4 control-label">新密码：</label>
                                        <div class="col-md-10 col-sm-8">
                                            <label class="field prepend-icon">
                                                <input type="password" class="form-control new">
                                                <label class="field-icon"><i class="fa fa-lock"></i></label>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label for="col-money-number" class="col-md-2 col-sm-4 control-label">重复密码：</label>
                                        <div class="col-md-10 col-sm-8">
                                            <label class="field prepend-icon">
                                                <input type="password" class="form-control new2">
                                                <label class="field-icon"><i class="fa fa-lock"></i></label>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default btn-sm cancel" data-dismiss="modal">
                                    <i class="fa fa-close"></i>关闭                           
                                </button>
                                <button type="button" class="btn btn-primary btn-sm accept">
                                    <i class="fa fa-save"></i><span class="caption">修改</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--Message modal-->
        <div class="modal fade" id="expires-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">失效时间设置</h4>
                    </div>
                    <div class="form-horizontal admin-form">
                        <div class="modal-body">
                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label for="col-money-number" class="col-md-2 col-sm-4 control-label">失效日期：</label>
                                    <div class="col-md-10 col-sm-8">
                                        <label class="field prepend-icon">
                                            <input type="text" class="form-control expires-time weui-datepicker weui-dateTimebegin">
                                            <label class="field-icon"><i class="fa fa-edit"></i></label>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default btn-sm cancel" data-dismiss="modal">
                                <i class="fa fa-close"></i>关闭                           
                            </button>
                            <button type="submit" class="btn btn-primary btn-sm expires-push submit">
                                <i class="fa fa-save"></i>推送<span class="caption"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Panel popup -->
        <div style="display: none;">
            <div id="modal2" class="popup-basic bg-none mfp-with-anim mfp-hide">
                <div class="panel">
                    <div class="panel-heading">
                        <span class="panel-icon">
                            <i class="fa fa-pencil"></i>
                        </span>
                        <span class="panel-title"></span>
                    </div>
                    <div class="panel-body">
                        <h3 class="mt5"></h3>
                    </div>
                    <div class="panel-footer text-right">
                        <button class="btn btn-primary accept" type="button">确认</button>
                        <button class="btn btn-primary cancel" type="button">取消</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- End: Main -->

    <!-- #AJAX LOADER INDICATOR -->
    <div id='ajax-mask' style="display: none; width: 100%; height: 100%; background-color: rgba(0,0,0,.4); position: fixed; top: 0; left: 0;">
        <div id='ajax-loader' style="background-color: transparent;">
            <div id="circularG">
                <div id="circularG_1" class="circularG"></div>
                <div id="circularG_2" class="circularG"></div>
                <div id="circularG_3" class="circularG"></div>
                <div id="circularG_4" class="circularG"></div>
                <div id="circularG_5" class="circularG"></div>
                <div id="circularG_6" class="circularG"></div>
                <div id="circularG_7" class="circularG"></div>
                <div id="circularG_8" class="circularG"></div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="assets/jquery/jquery-1.11.1.min.js"></script>
    <script src="assets/jquery/jquery_ui/jquery-ui.min.js"></script>
    <script src="assets/admin-tools/admin-forms/js/jquery-ui-datepicker.min.js"></script>
    <script src="assets/jquery/jquery_ui/datepicker-zh-CN.js" charset="utf-8"></script>
    <script src="assets/jquery/jquery_ui/timepicker-zh-CN.js" charset="utf-8"></script>
    <!-- HighCharts Plugin -->
    <script src="assets/plugins/highcharts/highcharts.js"></script>
    <!-- JvectorMap Plugin + US Map (more maps in plugin/assets folder) -->
    <!--<script src="assets/plugins/jvectormap/jquery.jvectormap.min.js"></script>
    <script src="assets/plugins/jvectormap/assets/jquery-jvectormap-us-lcc-en.js"></script>-->
    <!-- Bootstrap Tabdrop Plugin -->
    <script src="assets/plugins/tabdrop/bootstrap-tabdrop.js"></script>
    <!-- FullCalendar Plugin + moment Dependency -->
    <!--<script src="assets/plugins/fullcalendar/lib/moment.min.js"></script>
    <script src="assets/plugins/fullcalendar/fullcalendar.min.js"></script>-->
    <!-- Select2 -->
    <script src="assets/plugins/select2/select2.min.js"></script>
    <!-- Datatables jQuery -->
    <script src="assets/plugins/datatables/media/js/jquery.dataTables.js"></script>
    <!-- Datatables Tabletools addon -->
    <script src="assets/plugins/datatables/extensions/TableTools/js/dataTables.tableTools.js" charset="utf-8"></script>
    <!-- Datatables ColReorder addon -->
    <script src="assets/plugins/datatables/extensions/ColReorder/js/dataTables.colReorder.min.js"></script>
    <!-- Datatables Bootstrap Modifications  -->
    <script src="assets/plugins/datatables/media/js/dataTables.bootstrap.js"></script>
    <!-- Datatables Responsive addon -->
    <script src="assets/plugins/datatables/extensions/Responsive/js/dataTables.responsive.min.js"></script>
    <!--Admin-forms-->
    <script src="assets/admin-tools/admin-forms/js/jquery.validate.js"></script>
    <script src="assets/admin-tools/admin-forms/js/messages_zh.min.js"></script>
    <!-- Dropzone -->
    <script src="assets/dropzone/dropzone.js"></script>
    <!-- Modal -->
    <script src="assets/js/utility/bootstrap/source/modal.js"></script>
    <!-- Multiselect plugin -->
    <script src="assets/plugins/multiselect/pickList.js"></script>
    <!-- jsTree plugin -->
    <script src="assets/plugins/jstree/jstree.min.js"></script>
    <!-- Magnific popup Plugin -->
    <script src="assets/plugins/magnific/jquery.magnific-popup.js"></script>
    <!--summernote js-->
    <script src="assets/plugins/summernote/summernote.min.js"></script>
    <!--ajaxForm-->
    <script src="design/static/js/jquery.form_3.25.js"></script>
    <!-- DatePicker + moment -->
    <!--<script src="assets/plugins/moment/moment.js"></script> 
    <script src="assets/plugins/moment/moment_zh-CN.js" charset="UTF-8"></script> 
    <script src="assets/plugins/datepicker/js/bootstrap-datetimepicker.js"></script>-->
    <!-- Theme Javascript -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/utility/utility.js"></script>
    <script src="assets/js/demo/demo.js"></script>
    <script src="assets/js/main.js"></script>
    <!-- Widget Javascript -->
    <script src="assets/js/demo/widgets.js"></script>

    <script type="text/javascript">
        myapp.ticket = getCookie("ticket");
        myapp.userID = getCookie("userid");

        if (myapp.ticket == "") {
            window.location = 'login.html';
        }

        //刷新项目列表
        var refreshProjects = function(ui, repID, state) {
            var url = myapp.apiHost2 + "sysmng.jsonreport.do";
            var projectName = {
                subSys: 'wesurvey',
                repID: repID,
                isQuery: '1',
                dispType: '12',
                perRows: '2000',
            };
            projectName.cnd_active = "1";
            projectName.selCndIDs = "active";
            if (state != undefined) {
                projectName.cnd_state = state;
                projectName.selCndIDs = "active|state";
            }
            AjaxPost2(url, projectName, null, function(data) {
                Core.fillSelect($(ui), data.objs);
            }, function(error) {
                alert(error);
            })
        };

        var refreshtemplates = function(ui, repID, state) {
            var url = myapp.apiHost2 + "sysmng.jsonreport.do";
            var projectName = {
                subSys: 'wesurvey',
                repID: repID,
                isQuery: '1',
                dispType: '12',
                perRows: '2000',
                cnd_type: state,
                selCndIDs: 'type'
            };
            AjaxPost2(url, projectName, null, function(data) {
                Core.fillSelect($(ui), data.objs);
            }, function(error) {
                alert(error);
            })
        };

        //检查tab是否符合规范
        var checkTabs = function() {
            var container = $('#tab_panel');
            if (container.find('.panel-heading li.active').length > 0) {
                alert('Hi dude, two many active itmes');
                return;
            }
            if (container.find('.panel-body .tab-pane.active').length > 0) {
                alert('Hi dude, two many active tabs');
                return;
            }
            var lis = container.find('.panel-heading li');
            var items = container.find('.panel-heading li a');
            var tabs = container.find('.panel-body .tab-pane');
            if (items.length != tabs.length) {
                alert('Hi dude, count of items is different from count of tabs');
                return;
            }
            for (var i = 0; i < items.length; ++i) {
                var href = $(items[i]).attr('href').replace('#', '');
                var tid = $(tabs[i]).attr('id');
                if (href.indexOf('tab') >= 0 || tid.indexOf('tab') >= 0) {
                    alert('Hi dude, please remove the tab from tab name');
                    return;
                }
                if (href != tid) {
                    alert('Hi dude, the href is not same as tab name');
                    return;
                }
                if ($(lis[i]).hasClass('active') != $(tabs[i]).hasClass('active')) {
                    alert('Hi dude, the active state is not consistent');
                    return;
                }
            }
        }

        //初始化Tab（显示有权访问的tab，设置默认tab），完成后调用callback
        var initTabs = function(callback) {
            var navurl = location.hash.replace(/^#/, '');
            var tabindex = '1';
            for (var i = 0; i < myapp.permissions.length; ++i) {
                for (var j = 0; j < myapp.permissions[i].children.length; ++j) {
                    if (navurl == myapp.permissions[i].children[j].url) {
                        for (var k = 0; k < myapp.permissions[i].children[j].children.length; ++k) {
                            var tid = myapp.permissions[i].children[j].children[k].url;
                            $('#tab_panel li a[href="#' + tid + '"]').parent().show();
                            //$('#tab_panel #' + tid).show();
                        }
                        var tabid = myapp.permissions[i].children[j].children[0].url;
                        $('#tab_panel li a[href="#' + tabid + '"]').parent().removeClass('active').addClass('active');
                        $('#tab_panel #' + tabid).removeClass('active').addClass('active');
                        $('#tab_panel #' + tabid).show();
                        tabindex = $('#tab_panel #' + tabid).attr('tabindex');
                    }
                }
            }
            var tabid = $('#tab_panel .tab-pane[tabindex="' + tabindex + '"]').attr('id');
            $('#tab_panel .panel-tabs a[href="#' + tabid + '"]').trigger('click');
            callback(tabindex);
            $('#tab_panel a').click(function(e) {
                e.preventDefault()
                $(this).tab('show');
                var id = $(this).attr('href');
                $(id).show();
                var index = $('#tab_panel a').index($(this)) + 1;
                callback(index)
            });
            var disName = getStorage('displayName');
            var urlName = getStorage('displayurl');
            var url = location.hash;
            if (urlName == url && disName) {
                $('#tab_panel .panel-tabs a[href="' + disName + '"]').trigger('click');
                localStorage.clear();
            }
        }

        //
        var setStorage = function(name, val) {
            localStorage.setItem(name, val)
        };

        var getStorage = function(name) {
            return localStorage.getItem(name)
        };
        //
        var cleareStorage = function(name) {
            localStorage.removeItem(name)
        }
        var storage = function() {
            var urlName = location.hash;
            var name = $('#tab_panel .panel-tabs li.active a').attr('href');
            setStorage('displayName', name);
            setStorage('displayurl', urlName);
        };

        function reSetContainerHeight() {
            var winH = $(window).outerHeight();
            $('#content-container').css("height", winH - 60);
        }

        //
        jQuery(document).ready(function() {

            //根据当前登录用户的权限初始化菜单
            var initMenu = function(features) {
                var container = $('#sidebar_menu');
                for (var i in features) {
                    var html = '';
                    for (var j in features[i].children) {
                        html = html + createLevel2(features[i].children[j]);
                    }
                    container.append(createLevel1(features[i], html));
                }
            }

            //创建一级菜单
            var createLevel1 = function(feature, html) {
                return '<li>' +
                    '<a class="accordion-toggle' + (feature.open ? ' menu-open' : '') + '" href="#">' +
                    '<span class="fa-fw fa ' + feature.icon + '"></span>' +
                    '<span class="sidebar-title">' + feature.text + '</span>' +
                    '<span class="caret"></span>' +
                    '</a>' +
                    '<ul class="nav sub-nav">' + html +
                    '</ul>' +
                    '</li>';
            }

            //创建二级菜单
            var createLevel2 = function(feature) {
                return '<li>' +
                    '<a class="accordion-toggle" href="' + feature.url + '">' +
                    '<span class="fa fa-fw fa ' + feature.icon + '"></span>' + feature.text +
                    //'<span class="caret"></span>' +
                    '</a>' +
                    '</li>';
            }

            //设置活动菜单
            $('#sidebar_menu > li > ul > li a').click(function() {
                $(this).addClass("active").parent("li").siblings().find("a").removeClass("active");
                $(this).addClass("active").parent("li").parents("li").siblings().find("a").removeClass("active");
            });

            //上传头像，图片变化
            $('#profile_image_modal input[name="origin_image"]').off('change').on('change', function() {
                var file = $(this)[0].files[0];
                var img = $(this).parent().find('img');
                var reader = new FileReader();
                reader.onload = function(e) {
                    img.attr('src', e.target.result);
                }
                reader.readAsDataURL(file);
                //$(this).parent().find('img').file = $(this)[0].files[0];
                //$(this).parent().find('img').attr('src', $(this)[0].files[0]);
            });

            //上传头像
            $('#profile_image_modal form').ajaxForm({
                url: myapp.apiHost2 + "wesurvey.uploadUserImg.do?userID=" + myapp.userID,
                type: "POST ",
                dataType: 'json',
                success: function(data) {
                    $('.profile .image').attr('src', myapp.resHost + data.objs[0].fileName);
                },
                error: function(data) {
                    console.log('error');
                },
                beforeSend: function(request) {
                    request.setRequestHeader("ticket", myapp.ticket);
                },
            });

            //上传头像事件
            $('.profile-image').off('click').on('click', function() {
                var container = $("#profile_image_modal");
                var dialog = new Dialog(container, null, null, function(data) {
                    var url = data.objs
                }, function() {
                    var input = $('input[name="origin_image"]', container);
                    if (!input.files || !input.files[0])
                        return false;
                    return true;
                });
                dialog.show();
            });

            //退出登录
            $('.logout').off('click').on('click', function() {
                setCookie('ticket', '', 1);
                setCookie('userid', '', 1);
                //setCookie('weuserid', '', 1);
                setCookie('wepassword', '', 1);
                window.location = 'login.html';
            });

            //修改密码，输入框变化
            $('#change_password_modal input').off('change').on('change', function() {
                if ($(this).parents('.form-group').hasClass('has-error')) {
                    $(this).parents('.form-group').removeClass('has-error');
                    $(this).attr('placeholder', '');
                }
            });

            //修改密码
            $('.change-password').off('click').on('click', function() {
                var container = $("#change_password_modal");
                var dialog = new Dialog(container, function() {
                    var oldPassword = $('.old', container).val();
                    var newPassword = $('.new', container).val();
                    var newPassword2 = $('.new2', container).val();
                    var data = {
                        userID: myapp.userID,
                        userName: myapp.userName,
                        oldPassword: oldPassword,
                        newPassword: newPassword,
                        newPassword2: newPassword2
                    };
                    AjaxPost2(myapp.apiHost2 + 'wesurvey.updPassword.do', data, null, function(data) {
                        //
                    }, function(error) {

                    });
                }, function() {
                    var oldPassword = $('.old', container).val();
                    var newPassword = $('.new', container).val();
                    var newPassword2 = $('.new2', container).val();
                    //                    if (oldPassword == '') {
                    //                        $('.old', container).parents('.form-group').addClass('has-error');
                    //                        $('.old', container).attr('placeholder', '密码输入不能为空');
                    //                        $('.old', container).val('');
                    //                        return false;
                    //                    }
                    if (newPassword == '') {
                        $('.new', container).parents('.form-group').addClass('has-error');
                        $('.new', container).attr('placeholder', '密码输入不能为空');
                        $('.new', container).val('');
                        return false;
                    }
                    if (newPassword == '' && newPassword2 == '') {
                        $('.new2', container).parents('.form-group').addClass('has-error');
                        $('.new2', container).attr('placeholder', '密码输入不能为空');
                        $('.new2', container).val('');
                        return false;
                    }
                    if (oldPassword == newPassword) {
                        $('.new', container).parents('.form-group').addClass('has-error');
                        $('.new', container).attr('placeholder', '新密码不能和旧密码重复');
                        $('.new', container).val('');
                        return false;
                    } else if (newPassword.length < 6) {
                        $('.new', container).parents('.form-group').addClass('has-error');
                        $('.new', container).attr('placeholder', '密码长度不能小于6位');
                        $('.new', container).val('');
                        return false;
                    } else if (newPassword != newPassword2) {
                        $('.new2', container).parents('.form-group').addClass('has-error');
                        $('.new2', container).attr('placeholder', '新密码两次输入不一致');
                        $('.new2', container).val('');
                        return false;
                    }
                    return true;
                });
                dialog.show();
            });

            //确认链接点击不响应
            $(document).on('click', 'a[href="#"]', function(e) {
                e.preventDefault();
            });

            //hash变化检测，动态加载子页面
            $(window).on('hashchange', function() {
                checkUrl();
            });

            //动态加载子页面，修改菜单状态
            var checkUrl = function() {
                var url = location.hash.replace(/^#/, '');
                //
                if (url) {
                    // remove all active class
                    $('.nav li a.active').removeClass("active");
                    // match the url and add the active class
                    $('.nav a[href="' + url + '"]').addClass("active");
                    // load partial document
                    Core.loadURL(url + window.location.search, $('#content-container'));
                }
            };

            //获取当前登录用户权限
            $.ajax({
                url: myapp.apiHost2 + "modNav1.jsp",
                dataType: "json",
                type: "post",
                data: {},
                beforeSend: function(request) {
                    request.setRequestHeader("ticket", myapp.ticket);
                },
                success: function(data, status, xhr) {
                    if (data.errors.length > 0 && data.errors[0].code == 0) {
                        location.href = "login.html";
                    } else {
                        data.objs[0].open = true;
                        myapp.permissions = data.objs;
                        initMenu(data.objs);
                        //window.location.hash = data.objs[0].children[0].url;
                        checkUrl();
                        Core.init(); // important! call this after menu is initialized
                    }
                },
                error: function(xhr, status, error) {
                    window.location = 'index.html';
                }
            });

            //获取当前登录用户详细信息
            AjaxPost2(myapp.apiHost2 + "sysmng.initTemplate.do?subSys=survey&tplID=93&userID=" + myapp.userID, null, null, function(data) {
                myapp.userName = data.objs[0].userName;
                myapp.imageUrl = data.objs[0].imageUrl.length > 5 ? data.objs[0].imageUrl : 'user/placeholder.png';
                $(".profile .image").attr('src', myapp.resHost + myapp.imageUrl);
                $(".profile .username").html(myapp.userName);
            }, function(error) {
                window.location = 'index.html';
            });

            //
            reSetContainerHeight();
        });
        //@ sourceURL=dynamicScript-project-index.js
    </script>
    <!-- END: PAGE SCRIPTS -->

</body>

</html>