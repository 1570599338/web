<!--<div class="animated fadeIn">-->
<div class="row">
    <div class="bs-component">
        <div class="panel" id="tab_panel">
            <div class="panel-heading">
                <ul class="nav panel-tabs-border panel-tabs panel-tabs-left">
                    <li class="" style="display:none;"><a href="#authentication" data-toggle="tab">车主认证</a></li>
                    <li class="" style="display:none;"><a href="#authenticdriver" data-toggle="tab">车辆认证</a></li>
                    <!--<li class="">
						<a href="#tab2_2" data-toggle="tab">提现记录</a>
					</li>-->
                </ul>
            </div>
            <div class="panel-body">
                <div class="tab-content pn br-n">
                    <div id="authentication" class="tab-pane" tabindex="1" style="display:none;">
                        <!--cnd start-->
                        <div class="row">
                            <div class="panel panel-visible" id="cnd">
                                <div class="panel-body">
                                    <div class="form-horizontal admin-form">
                                        <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                            <label for="inputStandard" class="col-lg-4 col-md-4 col-sm-6 control-label">会员名称：</label>
                                            <div class="col-lg-8 col-md-8 col-sm-6">
                                                <label for="datepicker1" class="field prepend-icon">
                                                        <input data-id="cnd_name" type="text" class="form-control">
                                                        <label class="field-icon"><i class="fa fa-pencil-square-o"></i></label>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                            <label for="inputStandard" class="col-lg-4 col-md-4 col-sm-6 control-label">审核状态：</label>
                                            <div class="col-lg-8 col-md-8 col-sm-6">
                                                <label for="datepicker1" class="field prepend-icon">
                                                     <select data-id="cnd_state" class="form-control">
                                                         <option value="0">请选择</option>
                                                          <option value="0">待审核</option>
                                                          <option value="1">审核通过</option>
                                                          <option value="2">审核失败</option>
                                                    </select>
                                                <label class="field-icon"><i class="fa fa-pencil-square-o"></i></label>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row panel-footer action-container">
                                    <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                        <label for="inputSelect" class="col-lg-4 col-md-4 col-sm-6 control-label"></label>
                                        <div class="col-lg-8 col-md-8 col-sm-6">
                                            <!--<button type="submit" class="btn btn-default btn-block">提交</button>-->
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                        <label for="inputSelect" class="col-lg-4 col-md-4 col-sm-6 control-label"></label>
                                        <div class="col-lg-8 col-md-8 col-sm-6">
                                            <button type="submit" class="btn btn-primary btn-sm cnd_query pull-right"><i class="fa fa-search"></i>查询</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--cnd end-->
                        <div class="row">
                            <div class="panel panel-visible" id="spy1">
                                <div class="panel-body pn">
                                    <!--<div class="col-lg-12 col-md-12 col-sm-12">-->
                                    <table class="table table-striped table-hover" id="datatable">
                                        <thead>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                    <!--</div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="authenticdriver" class="tab-pane" tabindex="2" style="display:none;">
                        <!--cnd start-->
                        <div class="row">
                            <div class="panel panel-visible">
                                <div class="panel-body">
                                    <div class="form-horizontal admin-form">
                                        <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                            <label for="inputStandard" class="col-lg-4 col-md-4 col-sm-6 control-label">会员名称：</label>
                                            <div class="col-lg-8 col-md-8 col-sm-6">
                                                <label for="datepicker1" class="field prepend-icon">
                                                        <input data-id="cnd_name" type="text" class="form-control">
                                                        <label class="field-icon"><i class="fa fa-pencil-square-o"></i></label>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                            <label for="inputStandard" class="col-lg-4 col-md-4 col-sm-6 control-label">审核状态：</label>
                                            <div class="col-lg-8 col-md-8 col-sm-6">
                                                <label for="datepicker1" class="field prepend-icon">
                                                     <select data-id="cnd_state" class="form-control">
                                                         <option value="0">请选择</option>
                                                          <option value="0">待审核</option>
                                                          <option value="1">审核通过</option>
                                                          <option value="2">审核失败</option>
                                                    </select>
                                                <label class="field-icon"><i class="fa fa-pencil-square-o"></i></label>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row panel-footer action-container">
                                    <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                        <label for="inputSelect" class="col-lg-4 col-md-4 col-sm-6 control-label"></label>
                                        <div class="col-lg-8 col-md-8 col-sm-6">
                                            <!--<button type="submit" class="btn btn-default btn-block">提交</button>-->
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-6 col-sm-12">
                                        <label for="inputSelect" class="col-lg-4 col-md-4 col-sm-6 control-label"></label>
                                        <div class="col-lg-8 col-md-8 col-sm-6">
                                            <button type="submit" class="btn btn-primary btn-sm cnd_query pull-right"><i class="fa fa-search"></i>查询</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--cnd end-->
                        <div class="row">
                            <div class="panel panel-visible">
                                <div class="panel-body pn">
                                    <!--<div class="col-lg-12 col-md-12 col-sm-12">-->
                                    <table class="table table-striped table-hover" id="driver_datatable">
                                        <thead>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                    <!--</div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var theVerificationeTable = null,
        theVerificationeColumns = null,
        theVerificationeCount = 0,
        theVerificationeDummy = false,
        theVerificationeOption = null;

    var thedriverTable = null,
        thedriverColumns = null,
        thedriverCount = 0,
        thedriverDummy = false,
        thedriverOption = null;

    $(function() {
        theVerificationeTable = $('#datatable');
        // columns
        theVerificationeColumns = [{
            "aTargets": [0],
            "mData": "ID",
            "sTitle": "#",
            "sWidth": "12px",
            "bSortable": false,
            "mRender": function(data, type, full) {
                return "<input type='checkbox' name='selector' checked='checked' style='margin-left:8px;' />";
            }
        }, {
            "aTargets": [1],
            "mData": "shortName",
            "sTitle": "会员名称",
            "sWidth": "80px",
            "sClass": "text-align-left",
            "mRender": null
        }, {
            "aTargets": [2],
            "mData": "mobileNumber",
            "sTitle": "电话号码",
            "sWidth": "128px",
        }, {
            "aTargets": [3],
            "mData": "createdAt",
            "sTitle": "申请日期",
            "sWidth": "128px",
            "mRender": null
        }, {
            "aTargets": [4],
            "mData": "createdBy",
            "sTitle": "审核人",
            "sWidth": "60px",
            "mRender": function(data, type, full) {
                var createName = ""
                if (full.createdBy == "-1") {
                    createName = "";
                } else {
                    createName = full.createdBy;
                }
                return createName;
            }
        }, {
            "aTargets": [5],
            "mData": "state",
            "sTitle": "申请状态",
            //"sWidth": "100px",
            "mRender": function(data, type, full) {
                var state = "";
                if (full.state == 0) {
                    state = "待审核";
                }
                if (full.state == 1) {
                    state = "审核通过";
                }
                if (full.state == 2) {
                    state = "审核失败";
                }
                return state;
            }
        }, {
            "aTargets": [6],
            "mData": "memberid",
            "sTitle": "操作",
            "bSortable": false,
            "sWidth": "68px",
            "mRender": function(data, type, full) {
                return '<span class="inline-action-container action-update">' +
                    '<a href="#"><span class="fa fa-edit fa-default"></span><span class="action-update">审核</span></a><span class="text-divider"></span> ' +
                    '</span>';
            }
        }];
        // option
        theVerificationeOption = {
            aButtons: [{
                "sButtonText": "csv",
                "sExtends": "xls",
            }],
            preDrawCallback: function() {
                return theVerificationeDummy;
            },
            rowCallback: function(nRow, aData, iDisplayIndex, iDisplayIndexFull) {
                $(nRow).data(aData);
            },
            onCreate: function() {},
            onUpdate: function(data, tr) {
                storage();
                window.location = '#membership/verification-detail.html?driverid=' + (data.id) + '&memberid=' + (data.memberid);
            },
            onDelete: function(data, tr) {},
            processing: true,
            serverSide: true,
            ajaxSource: myapp.apiHost2 + "sysmng.jsonreport.do",
            ajaxDataProp: "objs",
            basicDataCallback: function(aoData) {
                basicData(aoData, 92, theVerificationeCount, "#authentication");
            },
            setCountCallback: function(count) {
                theVerificationeCount = count;
            }
        };
        //构建dataTable
        $('#authentication .cnd_query').off("click").on("click", function() {
            theVerificationeDummy = true;
            theVerificationeTable.dataTable().fnDraw();
        });
    });

    $(function() {
        thedriverTable = $('#driver_datatable');
        // columns
        thedriverColumns = [{
            "aTargets": [0],
            "mData": "id",
            "sTitle": "#",
            "sWidth": "12px",
            "bSortable": false,
            "mRender": function(data, type, full) {
                return "<input type='checkbox' name='selector' checked='checked' style='margin-left:8px;' />";
            }
        }, {
            "aTargets": [1],
            "mData": "shortName",
            "sTitle": "姓名",
            "sWidth": "68px",
            "sClass": "text-align-left",
            "mRender": null
        }, {
            "aTargets": [2],
            "mData": "plateNumber",
            "sTitle": "车牌号码",
            "sWidth": "68px",
            "mRender": null
        }, {
            "aTargets": [3],
            "mData": "modelID",
            "sTitle": "车辆型号",
            "sWidth": "68px",
            "mRender": null
        }, {
            "aTargets": [4],
            "mData": "vinNumber",
            "sTitle": "车架号",
            "sWidth": "68px",
            "mRender": null
        }, {
            "aTargets": [5],
            "mData": "colorID",
            "sTitle": "车身颜色",
            "sWidth": "68px",
            "mRender": null
        }, {
            "aTargets": [6],
            "mData": "volume",
            "sTitle": "排量",
            "sWidth": "68px",
            "mRender": null
        }, {
            "aTargets": [7],
            "mData": "lastMaintainTime",
            "sTitle": "最后维修日期",
            "sWidth": "68px",
            "mRender": null
        }, {
            "aTargets": [8],
            "mData": "lastMaintainDealer",
            "sTitle": "最后维修经销商",
            //"sWidth": "68px",
            "sClass": "text-align-left",
            "mRender": null
        }, {
            "aTargets": [9],
            "mData": "state",
            "sTitle": "审核状态",
            "sWidth": "68px",
            "mRender": function(data, type, full) {
                var state = "";
                if (full.state == 0) {
                    state = "待审核";
                }
                if (full.state == 1) {
                    state = "审核通过";
                }
                if (full.state == 2) {
                    state = "审核失败";
                }
                return state;
            }
        }, {
            "aTargets": [10],
            "mData": "memberid",
            "sTitle": "操作",
            "bSortable": false,
            "sWidth": "68px",
            "mRender": function(data, type, full) {
                return '<span class="inline-action-container">' +
                    '<a href="#"><span class="fa fa-edit fa-default"></span><span class="action-update">审核</span></a><span class="text-divider"></span> ' +
                    '</span>';
            }
        }];
        // option
        thedriverOption = {
            aButtons: [{
                "sButtonText": "csv",
                "sExtends": "xls",
            }],
            preDrawCallback: function() {
                return thedriverDummy;
            },
            rowCallback: function(nRow, aData, iDisplayIndex, iDisplayIndexFull) {
                $(nRow).data(aData);
            },
            onCreate: function() {},
            onUpdate: function(data, tr) {
                storage();
                window.location = '#membership/verification-detail.html?vehicleid=' + data.id;
            },
            onDelete: function(data, tr) {},
            processing: true,
            serverSide: true,
            ajaxSource: myapp.apiHost2 + "sysmng.jsonreport.do",
            ajaxDataProp: "objs",
            basicDataCallback: function(aoData) {
                basicData(aoData, 194, thedriverCount, "#authenticdriver");
            },
            setCountCallback: function(count) {
                thedriverCount = count;
            }
        };
        //构建dataTable
        $('#authenticdriver .cnd_query').off("click").on("click", function() {
            thedriverDummy = true;
            thedriverTable.dataTable().fnDraw();
        });
    });
    $(function() {
        var activateTabPage = function(index) {
            var tr = '<tr class="odd"><td valign="top" colspan="6" class="dataTables_empty">没有匹配结果</td> </tr>';
            var container = $('.tab-pane[tabindex=' + index + ']');
            if (index == 1) {
                $('table tbody', container).html(tr);
                Core.initDataTable(theVerificationeTable, theVerificationeColumns, theVerificationeOption);
            } else if (index == 2) {
                $('table tbody', container).html(tr);
                Core.initDataTable(thedriverTable, thedriverColumns, thedriverOption);
            }
        };
        initTabs(activateTabPage);
        //@ sourceURL=dynamicScript-Verification.js
    });
</script>